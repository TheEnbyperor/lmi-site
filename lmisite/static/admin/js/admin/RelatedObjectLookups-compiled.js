'use strict';(function(a){'use strict';function b(a){return a=a.replace(/\./g,'__dot__'),a=a.replace(/\-/g,'__dash__'),a}function c(a){return a=a.replace(/__dot__/g,'.'),a=a.replace(/__dash__/g,'-'),a}function d(a,c,d){var e=a.id.replace(c,'');e=b(e);var f=a.href;d&&(-1===f.indexOf('?')?f+='?_popup=1':f+='&_popup=1');var g=window.open(f,e,'height=500,width=800,resizable=yes,scrollbars=yes');return g.focus(),!1}function f(a){return d(a,/^lookup_/,!0)}function e(a){return d(a,/^(change|add|delete)_/,!1)}function g(b){var c=a(b),d=c.nextAll('.change-related, .delete-related');if(d.length){var e=c.val();e?d.each(function(){var b=a(this);b.attr('href',b.attr('data-href-template').replace('__fk__',e))}):d.removeAttr('href')}}function h(b,d,e){var f=c(b.name),g=document.getElementById(f);if(g){var h=g.nodeName.toUpperCase();'SELECT'===h?g.options[g.options.length]=new Option(e,d,!0,!0):'INPUT'===h&&(-1!==g.className.indexOf('vManyToManyRawIdAdminField')&&g.value?g.value+=','+d:g.value=d),a(g).trigger('change')}else{var i=f+'_to',j=new Option(e,d);SelectBox.add_to_cache(i,j),SelectBox.redisplay(i)}b.close()}window.id_to_windowname=b,window.windowname_to_id=c,window.showRelatedObjectLookupPopup=f,window.dismissRelatedLookupPopup=function(a,b){var d=c(a.name),e=document.getElementById(d);-1!==e.className.indexOf('vManyToManyRawIdAdminField')&&e.value?e.value+=','+b:document.getElementById(d).value=b,a.close()},window.showRelatedObjectPopup=e,window.updateRelatedObjectLinks=g,window.dismissAddRelatedObjectPopup=h,window.dismissChangeRelatedObjectPopup=function(b,d,e,f){var g=c(b.name).replace(/^edit_/,''),h=interpolate('#%s, #%s_from, #%s_to',[g,g,g]),i=a(h);i.find('option').each(function(){this.value===d&&(this.textContent=e,this.value=f)}),i.next().find('.select2-selection__rendered').each(function(){this.lastChild.textContent=e,this.title=e}),b.close()},window.dismissDeleteRelatedObjectPopup=function(b,d){var e=c(b.name).replace(/^delete_/,''),f=interpolate('#%s, #%s_from, #%s_to',[e,e,e]),g=a(f);g.find('option').each(function(){this.value===d&&a(this).remove()}).trigger('change'),b.close()},window.showAddAnotherPopup=e,window.dismissAddAnotherPopup=h,a(document).ready(function(){a('a[data-popup-opener]').click(function(b){b.preventDefault(),opener.dismissRelatedLookupPopup(window,a(this).data('popup-opener'))}),a('body').on('click','.related-widget-wrapper-link',function(b){if(b.preventDefault(),this.href){var c=a.Event('django:show-related',{href:this.href});a(this).trigger(c),c.isDefaultPrevented()||e(this)}}),a('body').on('change','.related-widget-wrapper select',function(){var b=a.Event('django:update-related');a(this).trigger(b),b.isDefaultPrevented()||g(this)}),a('.related-widget-wrapper select').trigger('change'),a('body').on('click','.related-lookup',function(b){b.preventDefault();var c=a.Event('django:lookup-related');a(this).trigger(c),c.isDefaultPrevented()||f(this)})})})(django.jQuery);

//# sourceMappingURL=RelatedObjectLookups-compiled.js.map