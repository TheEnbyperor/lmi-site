{"version":3,"sources":["DateTimeShortcuts.js"],"names":[],"mappings":"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","file":"DateTimeShortcuts-compiled.js","sourcesContent":["/*global Calendar, findPosX, findPosY, getStyle, get_format, gettext, gettext_noop, interpolate, ngettext, quickElement*/\n// Inserts shortcut buttons after all of the following:\n//     <input type=\"text\" class=\"vDateField\">\n//     <input type=\"text\" class=\"vTimeField\">\n(function() {\n    'use strict';\n    var DateTimeShortcuts = {\n        calendars: [],\n        calendarInputs: [],\n        clockInputs: [],\n        clockHours: {\n            default_: [\n                [gettext_noop('Now'), -1],\n                [gettext_noop('Midnight'), 0],\n                [gettext_noop('6 a.m.'), 6],\n                [gettext_noop('Noon'), 12],\n                [gettext_noop('6 p.m.'), 18]\n            ]\n        },\n        dismissClockFunc: [],\n        dismissCalendarFunc: [],\n        calendarDivName1: 'calendarbox', // name of calendar <div> that gets toggled\n        calendarDivName2: 'calendarin',  // name of <div> that contains calendar\n        calendarLinkName: 'calendarlink',// name of the link that is used to toggle\n        clockDivName: 'clockbox',        // name of clock <div> that gets toggled\n        clockLinkName: 'clocklink',      // name of the link that is used to toggle\n        shortCutsClass: 'datetimeshortcuts', // class of the clock and cal shortcuts\n        timezoneWarningClass: 'timezonewarning', // class of the warning for timezone mismatch\n        timezoneOffset: 0,\n        init: function() {\n            var body = document.getElementsByTagName('body')[0];\n            var serverOffset = body.getAttribute('data-admin-utc-offset');\n            if (serverOffset) {\n                var localOffset = new Date().getTimezoneOffset() * -60;\n                DateTimeShortcuts.timezoneOffset = localOffset - serverOffset;\n            }\n\n            var inputs = document.getElementsByTagName('input');\n            for (var i = 0; i < inputs.length; i++) {\n                var inp = inputs[i];\n                if (inp.getAttribute('type') === 'text' && inp.className.match(/vTimeField/)) {\n                    DateTimeShortcuts.addClock(inp);\n                    DateTimeShortcuts.addTimezoneWarning(inp);\n                }\n                else if (inp.getAttribute('type') === 'text' && inp.className.match(/vDateField/)) {\n                    DateTimeShortcuts.addCalendar(inp);\n                    DateTimeShortcuts.addTimezoneWarning(inp);\n                }\n            }\n        },\n        // Return the current time while accounting for the server timezone.\n        now: function() {\n            var body = document.getElementsByTagName('body')[0];\n            var serverOffset = body.getAttribute('data-admin-utc-offset');\n            if (serverOffset) {\n                var localNow = new Date();\n                var localOffset = localNow.getTimezoneOffset() * -60;\n                localNow.setTime(localNow.getTime() + 1000 * (serverOffset - localOffset));\n                return localNow;\n            } else {\n                return new Date();\n            }\n        },\n        // Add a warning when the time zone in the browser and backend do not match.\n        addTimezoneWarning: function(inp) {\n            var $ = django.jQuery;\n            var warningClass = DateTimeShortcuts.timezoneWarningClass;\n            var timezoneOffset = DateTimeShortcuts.timezoneOffset / 3600;\n\n            // Only warn if there is a time zone mismatch.\n            if (!timezoneOffset) {\n                return;\n            }\n\n            // Check if warning is already there.\n            if ($(inp).siblings('.' + warningClass).length) {\n                return;\n            }\n\n            var message;\n            if (timezoneOffset > 0) {\n                message = ngettext(\n                    'Note: You are %s hour ahead of server time.',\n                    'Note: You are %s hours ahead of server time.',\n                    timezoneOffset\n                );\n            }\n            else {\n                timezoneOffset *= -1;\n                message = ngettext(\n                    'Note: You are %s hour behind server time.',\n                    'Note: You are %s hours behind server time.',\n                    timezoneOffset\n                );\n            }\n            message = interpolate(message, [timezoneOffset]);\n\n            var $warning = $('<span>');\n            $warning.attr('class', warningClass);\n            $warning.text(message);\n\n            $(inp).parent()\n                .append($('<br>'))\n                .append($warning);\n        },\n        // Add clock widget to a given field\n        addClock: function(inp) {\n            var num = DateTimeShortcuts.clockInputs.length;\n            DateTimeShortcuts.clockInputs[num] = inp;\n            DateTimeShortcuts.dismissClockFunc[num] = function() { DateTimeShortcuts.dismissClock(num); return true; };\n\n            // Shortcut links (clock icon and \"Now\" link)\n            var shortcuts_span = document.createElement('span');\n            shortcuts_span.className = DateTimeShortcuts.shortCutsClass;\n            inp.parentNode.insertBefore(shortcuts_span, inp.nextSibling);\n            var now_link = document.createElement('a');\n            now_link.setAttribute('href', \"#\");\n            now_link.appendChild(document.createTextNode(gettext('Now')));\n            now_link.addEventListener('click', function(e) {\n                e.preventDefault();\n                DateTimeShortcuts.handleClockQuicklink(num, -1);\n            });\n            var clock_link = document.createElement('a');\n            clock_link.setAttribute('href', '#');\n            clock_link.id = DateTimeShortcuts.clockLinkName + num;\n            clock_link.addEventListener('click', function(e) {\n                e.preventDefault();\n                // avoid triggering the document click handler to dismiss the clock\n                e.stopPropagation();\n                DateTimeShortcuts.openClock(num);\n            });\n\n            quickElement(\n                'span', clock_link, '',\n                'class', 'clock-icon',\n                'title', gettext('Choose a Time')\n            );\n            shortcuts_span.appendChild(document.createTextNode('\\u00A0'));\n            shortcuts_span.appendChild(now_link);\n            shortcuts_span.appendChild(document.createTextNode('\\u00A0|\\u00A0'));\n            shortcuts_span.appendChild(clock_link);\n\n            // Create clock link div\n            //\n            // Markup looks like:\n            // <div id=\"clockbox1\" class=\"clockbox module\">\n            //     <h2>Choose a time</h2>\n            //     <ul class=\"timelist\">\n            //         <li><a href=\"#\">Now</a></li>\n            //         <li><a href=\"#\">Midnight</a></li>\n            //         <li><a href=\"#\">6 a.m.</a></li>\n            //         <li><a href=\"#\">Noon</a></li>\n            //         <li><a href=\"#\">6 p.m.</a></li>\n            //     </ul>\n            //     <p class=\"calendar-cancel\"><a href=\"#\">Cancel</a></p>\n            // </div>\n\n            var clock_box = document.createElement('div');\n            clock_box.style.display = 'none';\n            clock_box.style.position = 'absolute';\n            clock_box.className = 'clockbox module';\n            clock_box.setAttribute('id', DateTimeShortcuts.clockDivName + num);\n            document.body.appendChild(clock_box);\n            clock_box.addEventListener('click', function(e) { e.stopPropagation(); });\n\n            quickElement('h2', clock_box, gettext('Choose a time'));\n            var time_list = quickElement('ul', clock_box);\n            time_list.className = 'timelist';\n            // The list of choices can be overridden in JavaScript like this:\n            // DateTimeShortcuts.clockHours.name = [['3 a.m.', 3]];\n            // where name is the name attribute of the <input>.\n            var name = typeof DateTimeShortcuts.clockHours[inp.name] === 'undefined' ? 'default_' : inp.name;\n            DateTimeShortcuts.clockHours[name].forEach(function(element) {\n                var time_link = quickElement('a', quickElement('li', time_list), gettext(element[0]), 'href', '#');\n                time_link.addEventListener('click', function(e) {\n                    e.preventDefault();\n                    DateTimeShortcuts.handleClockQuicklink(num, element[1]);\n                });\n            });\n\n            var cancel_p = quickElement('p', clock_box);\n            cancel_p.className = 'calendar-cancel';\n            var cancel_link = quickElement('a', cancel_p, gettext('Cancel'), 'href', '#');\n            cancel_link.addEventListener('click', function(e) {\n                e.preventDefault();\n                DateTimeShortcuts.dismissClock(num);\n            });\n\n            document.addEventListener('keyup', function(event) {\n                if (event.which === 27) {\n                    // ESC key closes popup\n                    DateTimeShortcuts.dismissClock(num);\n                    event.preventDefault();\n                }\n            });\n        },\n        openClock: function(num) {\n            var clock_box = document.getElementById(DateTimeShortcuts.clockDivName + num);\n            var clock_link = document.getElementById(DateTimeShortcuts.clockLinkName + num);\n\n            // Recalculate the clockbox position\n            // is it left-to-right or right-to-left layout ?\n            if (getStyle(document.body, 'direction') !== 'rtl') {\n                clock_box.style.left = findPosX(clock_link) + 17 + 'px';\n            }\n            else {\n                // since style's width is in em, it'd be tough to calculate\n                // px value of it. let's use an estimated px for now\n                // TODO: IE returns wrong value for findPosX when in rtl mode\n                //       (it returns as it was left aligned), needs to be fixed.\n                clock_box.style.left = findPosX(clock_link) - 110 + 'px';\n            }\n            clock_box.style.top = Math.max(0, findPosY(clock_link) - 30) + 'px';\n\n            // Show the clock box\n            clock_box.style.display = 'block';\n            document.addEventListener('click', DateTimeShortcuts.dismissClockFunc[num]);\n        },\n        dismissClock: function(num) {\n            document.getElementById(DateTimeShortcuts.clockDivName + num).style.display = 'none';\n            document.removeEventListener('click', DateTimeShortcuts.dismissClockFunc[num]);\n        },\n        handleClockQuicklink: function(num, val) {\n            var d;\n            if (val === -1) {\n                d = DateTimeShortcuts.now();\n            }\n            else {\n                d = new Date(1970, 1, 1, val, 0, 0, 0);\n            }\n            DateTimeShortcuts.clockInputs[num].value = d.strftime(get_format('TIME_INPUT_FORMATS')[0]);\n            DateTimeShortcuts.clockInputs[num].focus();\n            DateTimeShortcuts.dismissClock(num);\n        },\n        // Add calendar widget to a given field.\n        addCalendar: function(inp) {\n            var num = DateTimeShortcuts.calendars.length;\n\n            DateTimeShortcuts.calendarInputs[num] = inp;\n            DateTimeShortcuts.dismissCalendarFunc[num] = function() { DateTimeShortcuts.dismissCalendar(num); return true; };\n\n            // Shortcut links (calendar icon and \"Today\" link)\n            var shortcuts_span = document.createElement('span');\n            shortcuts_span.className = DateTimeShortcuts.shortCutsClass;\n            inp.parentNode.insertBefore(shortcuts_span, inp.nextSibling);\n            var today_link = document.createElement('a');\n            today_link.setAttribute('href', '#');\n            today_link.appendChild(document.createTextNode(gettext('Today')));\n            today_link.addEventListener('click', function(e) {\n                e.preventDefault();\n                DateTimeShortcuts.handleCalendarQuickLink(num, 0);\n            });\n            var cal_link = document.createElement('a');\n            cal_link.setAttribute('href', '#');\n            cal_link.id = DateTimeShortcuts.calendarLinkName + num;\n            cal_link.addEventListener('click', function(e) {\n                e.preventDefault();\n                // avoid triggering the document click handler to dismiss the calendar\n                e.stopPropagation();\n                DateTimeShortcuts.openCalendar(num);\n            });\n            quickElement(\n                'span', cal_link, '',\n                'class', 'date-icon',\n                'title', gettext('Choose a Date')\n            );\n            shortcuts_span.appendChild(document.createTextNode('\\u00A0'));\n            shortcuts_span.appendChild(today_link);\n            shortcuts_span.appendChild(document.createTextNode('\\u00A0|\\u00A0'));\n            shortcuts_span.appendChild(cal_link);\n\n            // Create calendarbox div.\n            //\n            // Markup looks like:\n            //\n            // <div id=\"calendarbox3\" class=\"calendarbox module\">\n            //     <h2>\n            //           <a href=\"#\" class=\"link-previous\">&lsaquo;</a>\n            //           <a href=\"#\" class=\"link-next\">&rsaquo;</a> February 2003\n            //     </h2>\n            //     <div class=\"calendar\" id=\"calendarin3\">\n            //         <!-- (cal) -->\n            //     </div>\n            //     <div class=\"calendar-shortcuts\">\n            //          <a href=\"#\">Yesterday</a> | <a href=\"#\">Today</a> | <a href=\"#\">Tomorrow</a>\n            //     </div>\n            //     <p class=\"calendar-cancel\"><a href=\"#\">Cancel</a></p>\n            // </div>\n            var cal_box = document.createElement('div');\n            cal_box.style.display = 'none';\n            cal_box.style.position = 'absolute';\n            cal_box.className = 'calendarbox module';\n            cal_box.setAttribute('id', DateTimeShortcuts.calendarDivName1 + num);\n            document.body.appendChild(cal_box);\n            cal_box.addEventListener('click', function(e) { e.stopPropagation(); });\n\n            // next-prev links\n            var cal_nav = quickElement('div', cal_box);\n            var cal_nav_prev = quickElement('a', cal_nav, '<', 'href', '#');\n            cal_nav_prev.className = 'calendarnav-previous';\n            cal_nav_prev.addEventListener('click', function(e) {\n                e.preventDefault();\n                DateTimeShortcuts.drawPrev(num);\n            });\n\n            var cal_nav_next = quickElement('a', cal_nav, '>', 'href', '#');\n            cal_nav_next.className = 'calendarnav-next';\n            cal_nav_next.addEventListener('click', function(e) {\n                e.preventDefault();\n                DateTimeShortcuts.drawNext(num);\n            });\n\n            // main box\n            var cal_main = quickElement('div', cal_box, '', 'id', DateTimeShortcuts.calendarDivName2 + num);\n            cal_main.className = 'calendar';\n            DateTimeShortcuts.calendars[num] = new Calendar(DateTimeShortcuts.calendarDivName2 + num, DateTimeShortcuts.handleCalendarCallback(num));\n            DateTimeShortcuts.calendars[num].drawCurrent();\n\n            // calendar shortcuts\n            var shortcuts = quickElement('div', cal_box);\n            shortcuts.className = 'calendar-shortcuts';\n            var day_link = quickElement('a', shortcuts, gettext('Yesterday'), 'href', '#');\n            day_link.addEventListener('click', function(e) {\n                e.preventDefault();\n                DateTimeShortcuts.handleCalendarQuickLink(num, -1);\n            });\n            shortcuts.appendChild(document.createTextNode('\\u00A0|\\u00A0'));\n            day_link = quickElement('a', shortcuts, gettext('Today'), 'href', '#');\n            day_link.addEventListener('click', function(e) {\n                e.preventDefault();\n                DateTimeShortcuts.handleCalendarQuickLink(num, 0);\n            });\n            shortcuts.appendChild(document.createTextNode('\\u00A0|\\u00A0'));\n            day_link = quickElement('a', shortcuts, gettext('Tomorrow'), 'href', '#');\n            day_link.addEventListener('click', function(e) {\n                e.preventDefault();\n                DateTimeShortcuts.handleCalendarQuickLink(num, +1);\n            });\n\n            // cancel bar\n            var cancel_p = quickElement('p', cal_box);\n            cancel_p.className = 'calendar-cancel';\n            var cancel_link = quickElement('a', cancel_p, gettext('Cancel'), 'href', '#');\n            cancel_link.addEventListener('click', function(e) {\n                e.preventDefault();\n                DateTimeShortcuts.dismissCalendar(num);\n            });\n            django.jQuery(document).bind('keyup', function(event) {\n                if (event.which === 27) {\n                    // ESC key closes popup\n                    DateTimeShortcuts.dismissCalendar(num);\n                    event.preventDefault();\n                }\n            });\n        },\n        openCalendar: function(num) {\n            var cal_box = document.getElementById(DateTimeShortcuts.calendarDivName1 + num);\n            var cal_link = document.getElementById(DateTimeShortcuts.calendarLinkName + num);\n            var inp = DateTimeShortcuts.calendarInputs[num];\n\n            // Determine if the current value in the input has a valid date.\n            // If so, draw the calendar with that date's year and month.\n            if (inp.value) {\n                var format = get_format('DATE_INPUT_FORMATS')[0];\n                var selected = inp.value.strptime(format);\n                var year = selected.getUTCFullYear();\n                var month = selected.getUTCMonth() + 1;\n                var re = /\\d{4}/;\n                if (re.test(year.toString()) && month >= 1 && month <= 12) {\n                    DateTimeShortcuts.calendars[num].drawDate(month, year, selected);\n                }\n            }\n\n            // Recalculate the clockbox position\n            // is it left-to-right or right-to-left layout ?\n            if (getStyle(document.body, 'direction') !== 'rtl') {\n                cal_box.style.left = findPosX(cal_link) + 17 + 'px';\n            }\n            else {\n                // since style's width is in em, it'd be tough to calculate\n                // px value of it. let's use an estimated px for now\n                // TODO: IE returns wrong value for findPosX when in rtl mode\n                //       (it returns as it was left aligned), needs to be fixed.\n                cal_box.style.left = findPosX(cal_link) - 180 + 'px';\n            }\n            cal_box.style.top = Math.max(0, findPosY(cal_link) - 75) + 'px';\n\n            cal_box.style.display = 'block';\n            document.addEventListener('click', DateTimeShortcuts.dismissCalendarFunc[num]);\n        },\n        dismissCalendar: function(num) {\n            document.getElementById(DateTimeShortcuts.calendarDivName1 + num).style.display = 'none';\n            document.removeEventListener('click', DateTimeShortcuts.dismissCalendarFunc[num]);\n        },\n        drawPrev: function(num) {\n            DateTimeShortcuts.calendars[num].drawPreviousMonth();\n        },\n        drawNext: function(num) {\n            DateTimeShortcuts.calendars[num].drawNextMonth();\n        },\n        handleCalendarCallback: function(num) {\n            var format = get_format('DATE_INPUT_FORMATS')[0];\n            // the format needs to be escaped a little\n            format = format.replace('\\\\', '\\\\\\\\');\n            format = format.replace('\\r', '\\\\r');\n            format = format.replace('\\n', '\\\\n');\n            format = format.replace('\\t', '\\\\t');\n            format = format.replace(\"'\", \"\\\\'\");\n            return function(y, m, d) {\n                DateTimeShortcuts.calendarInputs[num].value = new Date(y, m - 1, d).strftime(format);\n                DateTimeShortcuts.calendarInputs[num].focus();\n                document.getElementById(DateTimeShortcuts.calendarDivName1 + num).style.display = 'none';\n            };\n        },\n        handleCalendarQuickLink: function(num, offset) {\n            var d = DateTimeShortcuts.now();\n            d.setDate(d.getDate() + offset);\n            DateTimeShortcuts.calendarInputs[num].value = d.strftime(get_format('DATE_INPUT_FORMATS')[0]);\n            DateTimeShortcuts.calendarInputs[num].focus();\n            DateTimeShortcuts.dismissCalendar(num);\n        }\n    };\n\n    window.addEventListener('load', DateTimeShortcuts.init);\n    window.DateTimeShortcuts = DateTimeShortcuts;\n})();\n"]}