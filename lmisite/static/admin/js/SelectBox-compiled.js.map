{"version":3,"sources":["SelectBox.js"],"names":[],"mappings":"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","file":"SelectBox-compiled.js","sourcesContent":["(function($) {\n    'use strict';\n    var SelectBox = {\n        cache: {},\n        init: function(id) {\n            var box = document.getElementById(id);\n            var node;\n            SelectBox.cache[id] = [];\n            var cache = SelectBox.cache[id];\n            var boxOptions = box.options;\n            var boxOptionsLength = boxOptions.length;\n            for (var i = 0, j = boxOptionsLength; i < j; i++) {\n                node = boxOptions[i];\n                cache.push({value: node.value, text: node.text, displayed: 1});\n            }\n        },\n        redisplay: function(id) {\n            // Repopulate HTML select box from cache\n            var box = document.getElementById(id);\n            var node;\n            $(box).empty(); // clear all options\n            var new_options = box.outerHTML.slice(0, -9);  // grab just the opening tag\n            var cache = SelectBox.cache[id];\n            for (var i = 0, j = cache.length; i < j; i++) {\n                node = cache[i];\n                if (node.displayed) {\n                    var new_option = new Option(node.text, node.value, false, false);\n                    // Shows a tooltip when hovering over the option\n                    new_option.setAttribute(\"title\", node.text);\n                    new_options += new_option.outerHTML;\n                }\n            }\n            new_options += '</select>';\n            box.outerHTML = new_options;\n        },\n        filter: function(id, text) {\n            // Redisplay the HTML select box, displaying only the choices containing ALL\n            // the words in text. (It's an AND search.)\n            var tokens = text.toLowerCase().split(/\\s+/);\n            var node, token;\n            var cache = SelectBox.cache[id];\n            for (var i = 0, j = cache.length; i < j; i++) {\n                node = cache[i];\n                node.displayed = 1;\n                var node_text = node.text.toLowerCase();\n                var numTokens = tokens.length;\n                for (var k = 0; k < numTokens; k++) {\n                    token = tokens[k];\n                    if (node_text.indexOf(token) === -1) {\n                        node.displayed = 0;\n                        break;  // Once the first token isn't found we're done\n                    }\n                }\n            }\n            SelectBox.redisplay(id);\n        },\n        delete_from_cache: function(id, value) {\n            var node, delete_index = null;\n            var cache = SelectBox.cache[id];\n            for (var i = 0, j = cache.length; i < j; i++) {\n                node = cache[i];\n                if (node.value === value) {\n                    delete_index = i;\n                    break;\n                }\n            }\n            cache.splice(delete_index, 1);\n        },\n        add_to_cache: function(id, option) {\n            SelectBox.cache[id].push({value: option.value, text: option.text, displayed: 1});\n        },\n        cache_contains: function(id, value) {\n            // Check if an item is contained in the cache\n            var node;\n            var cache = SelectBox.cache[id];\n            for (var i = 0, j = cache.length; i < j; i++) {\n                node = cache[i];\n                if (node.value === value) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        move: function(from, to) {\n            var from_box = document.getElementById(from);\n            var option;\n            var boxOptions = from_box.options;\n            var boxOptionsLength = boxOptions.length;\n            for (var i = 0, j = boxOptionsLength; i < j; i++) {\n                option = boxOptions[i];\n                var option_value = option.value;\n                if (option.selected && SelectBox.cache_contains(from, option_value)) {\n                    SelectBox.add_to_cache(to, {value: option_value, text: option.text, displayed: 1});\n                    SelectBox.delete_from_cache(from, option_value);\n                }\n            }\n            SelectBox.redisplay(from);\n            SelectBox.redisplay(to);\n        },\n        move_all: function(from, to) {\n            var from_box = document.getElementById(from);\n            var option;\n            var boxOptions = from_box.options;\n            var boxOptionsLength = boxOptions.length;\n            for (var i = 0, j = boxOptionsLength; i < j; i++) {\n                option = boxOptions[i];\n                var option_value = option.value;\n                if (SelectBox.cache_contains(from, option_value)) {\n                    SelectBox.add_to_cache(to, {value: option_value, text: option.text, displayed: 1});\n                    SelectBox.delete_from_cache(from, option_value);\n                }\n            }\n            SelectBox.redisplay(from);\n            SelectBox.redisplay(to);\n        },\n        sort: function(id) {\n            SelectBox.cache[id].sort(function(a, b) {\n                a = a.text.toLowerCase();\n                b = b.text.toLowerCase();\n                try {\n                    if (a > b) {\n                        return 1;\n                    }\n                    if (a < b) {\n                        return -1;\n                    }\n                }\n                catch (e) {\n                    // silently fail on IE 'unknown' exception\n                }\n                return 0;\n            } );\n        },\n        select_all: function(id) {\n            var box = document.getElementById(id);\n            var boxOptions = box.options;\n            var boxOptionsLength = boxOptions.length;\n            for (var i = 0; i < boxOptionsLength; i++) {\n                boxOptions[i].selected = 'selected';\n            }\n        }\n    };\n    window.SelectBox = SelectBox;\n})(django.jQuery);\n"]}